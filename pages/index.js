import Head from 'next/head'
import { useState } from 'react';
import Image from 'next/image'
import styles from '../styles/Home.module.css'
import { GrFormSearch } from 'react-icons/gr';
import { TiPlusOutline } from 'react-icons/ti';
import { Card } from './componenets/Card.js'
import { Cardinfos } from './componenets/Cardinfos';

export default function Home() {

  var arr = [{
    id: String(Math.random()),
    name: 'mage',
    img: 'https://static.wikia.nocookie.net/lawler-rpg/images/2/2c/Dissidia_black_mage_of_light_by_isaiahjordan-d5hz8q6.png',
  },
  {
    id: String(Math.random()),
    name: 'crusader',
    img: 'http://images6.fanpop.com/image/photos/40600000/Saber-fate-series-40641981-1200-2251.png',
  },
  {
    id: String(Math.random()),
    name: 'ranger',
    img: 'https://i.pinimg.com/originals/02/54/64/0254645c2624a84aac9a18e92df27c82.png',
  },
  ]

  const [tabs, settabs] = useState([])


  function djamba(id) {
    const index = arr.findIndex(object => {
      return object.id === id;
    });
    settabs(tabs => [...tabs, arr[index]])
    console.log(tabs)
  }

  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossOrigin />
        <link href="https://fonts.googleapis.com/css2?family=Bakbak+One&display=swap" rel="stylesheet" />
      </Head>

      <aside className={styles.aside}>
        <div className={styles.logo}> <img src="https://event.wwtonline.co.uk/security/wp-content/uploads/sites/94/2021/06/WUK-logo-Teal-RGB.png" alt="" /></div>
        <fieldset>
          <input type="text" placeholder='Search Something' />
          <GrFormSearch className={styles.icon} />
        </fieldset>
        <nav>
          <a href="#" >CHARACTERS</a>
          <a href="#">MAPS</a>
          <a href="#">GUILDS</a>
          <a href="#">HISTORIES</a>
          <a href="#">DICES</a>
        </nav>
      </aside>

      <main className={styles.main}>
        {arr.map(function (element) {
          return <div id={element.id} onClick={() => { djamba(element.id) }}><Card arr={element} key={Math.random()} /></div>
        })}
      </main>

      <div className={styles.right} id='right'>
        {
          tabs.map(function (element) {
            return <Cardinfos infos={element} key={String(Math.random())} />
          })
        }
      </div>

      <div className={styles.creator}>

        <TiPlusOutline />
      </div>
    </div>
  )

}
